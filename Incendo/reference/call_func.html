<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><title>IncendoOnline: TML Reference: &lt;call_func&gt; element </title>
<link rel="stylesheet" type="text/css" href="tmlref.css" />
</head><body> 
<div class="logo"><span class="logo_in">in</span><span class="logo_cendo">cendo</span><span class="logo_online" >online</span> : TML Reference</div>
<div class="navigation"><a class="element" href="a.html">&lt;a&gt;</a><br/><a class="element" href="arg.html">&lt;arg&gt;</a><br/><a class="element" href="baddata.html">&lt;baddata&gt;</a><br/><a class="element" href="base.html">&lt;base&gt;</a><br/><a class="element" href="br.html">&lt;br&gt;</a><br/><a class="element" href="call.html">&lt;call&gt;</a><br/><a class="element" href="call_func.html">&lt;call_func&gt;</a><br/><a class="element" href="card.html">&lt;card&gt;</a><br/><a class="element" href="col.html">&lt;col&gt;</a><br/><a class="element" href="colgroup.html">&lt;colgroup&gt;</a><br/><a class="element" href="condition.html">&lt;condition&gt;</a><br/><a class="element" href="dd.html">&lt;dd&gt;</a><br/><a class="element" href="defaults.html">&lt;defaults&gt;</a><br/><a class="element" href="display.html">&lt;display&gt;</a><br/><a class="element" href="div.html">&lt;div&gt;</a><br/><a class="element" href="dl.html">&lt;dl&gt;</a><br/><a class="element" href="dt.html">&lt;dt&gt;</a><br/><a class="element" href="dynamic.html">&lt;dynamic&gt;</a><br/><a class="element" href="econn.html">&lt;econn&gt;</a><br/><a class="element" href="error.html">&lt;error&gt;</a><br/><a class="element" href="form.html">&lt;form&gt;</a><br/><a class="element" href="getvar.html">&lt;getvar&gt;</a><br/><a class="element" href="h1.html">&lt;h1&gt;</a><br/><a class="element" href="h2.html">&lt;h2&gt;</a><br/><a class="element" href="h3.html">&lt;h3&gt;</a><br/><a class="element" href="head.html">&lt;head&gt;</a><br/><a class="element" href="hr.html">&lt;hr&gt;</a><br/><a class="element" href="img.html">&lt;img&gt;</a><br/><a class="element" href="input.html">&lt;input&gt;</a><br/><a class="element" href="interface.html">&lt;interface&gt;</a><br/><a class="element" href="layout.html">&lt;layout&gt;</a><br/><a class="element" href="li.html">&lt;li&gt;</a><br/><a class="element" href="link.html">&lt;link&gt;</a><br/><a class="element" href="log.html">&lt;log&gt;</a><br/><a class="element" href="logdcl.html">&lt;logdcl&gt;</a><br/><a class="element" href="logrec.html">&lt;logrec&gt;</a><br/><a class="element" href="next.html">&lt;next&gt;</a><br/><a class="element" href="ol.html">&lt;ol&gt;</a><br/><a class="element" href="p.html">&lt;p&gt;</a><br/><a class="element" href="param.html">&lt;param&gt;</a><br/><a class="element" href="pinentry.html">&lt;pinentry&gt;</a><br/><a class="element" href="pre.html">&lt;pre&gt;</a><br/><a class="element" href="print.html">&lt;print&gt;</a><br/><a class="element" href="prompt.html">&lt;prompt&gt;</a><br/><a class="element" href="reconciliation.html">&lt;reconciliation&gt;</a><br/><a class="element" href="retval.html">&lt;retval&gt;</a><br/><a class="element" href="screen.html">&lt;screen&gt;</a><br/><a class="element" href="setvar.html">&lt;setvar&gt;</a><br/><a class="element" href="span.html">&lt;span&gt;</a><br/><a class="element" href="strtemplate.html">&lt;strtemplate&gt;</a><br/><a class="element" href="submit.html">&lt;submit&gt;</a><br/><a class="element" href="submit_log.html">&lt;submit_log&gt;</a><br/><a class="element" href="table.html">&lt;table&gt;</a><br/><a class="element" href="tbody.html">&lt;tbody&gt;</a><br/><a class="element" href="td.html">&lt;td&gt;</a><br/><a class="element" href="textarea.html">&lt;textarea&gt;</a><br/><a class="element" href="tfoot.html">&lt;tfoot&gt;</a><br/><a class="element" href="tform.html">&lt;tform&gt;</a><br/><a class="element" href="th.html">&lt;th&gt;</a><br/><a class="element" href="thead.html">&lt;thead&gt;</a><br/><a class="element" href="tml.html">&lt;tml&gt;</a><br/><a class="element" href="tr.html">&lt;tr&gt;</a><br/><a class="element" href="txnconfirm.html">&lt;txnconfirm&gt;</a><br/><a class="element" href="txnnew.html">&lt;txnnew&gt;</a><br/><a class="element" href="txnsubmit.html">&lt;txnsubmit&gt;</a><br/><a class="element" href="ul.html">&lt;ul&gt;</a><br/><a class="element" href="vardcl.html">&lt;vardcl&gt;</a><br/><a class="element" href="variant.html">&lt;variant&gt;</a><br/></div><div class="content">
<h1>&lt;call_func&gt; element</h1> 
<span class="annotation"><p>
This element intiates a system function call that allows you to perform various system
functions. For example, using <a class="element" href="call_func.html">&lt;call_func&gt;</a> you can clear the cached service resources,
force a connection to the Gateway etc.</p>
<p>The function that you wish to perform is specified by the <span class="highlight">name</span> attribute.</p>
<p>Some functions require specific TML variables to be used as function parameters.</p>
<p>Before a function call you must specify two URIs:
<ul>
<li class="list1">the URI to switch to if the function call was successful. This URI is specified
using the <span class="highlight">next</span> attribute of the parent <a class="element" href="screen.html">&lt;screen&gt;</a> element or the <a class="element" href="next.html">&lt;next&gt;</a> element.</li>
<li class="list1">the URI that will be used of function call failed. This is set using the <a class="element" href="error.html">&lt;error&gt;</a> element</li></ul></p>
<p>
If the funtcion call failed, the <span class="highlight">err.code.high</span>, <span class="highlight">err.code.low</span> and <span class="highlight">err.description</span>
variables will be set.<br/>
</p>
</span> 
<h2>Parent elements:</h2><a class="element" href="screen.html">screen</a> <br/><h2> Attributes </h2>
<table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>name</td><td><span class="type">xs:token</span><br/></td><td><p>Required attribute.</p>
<p>Specifies the function that should be called.<br/>
The value should be one of the following:
<ul>
<li class="list1"><span class="highlight">send_offline_posts</span> - The terminal connects to the Gateway and all offline posts of the current service
are sent to the application host.<br/>
If performed from the embedded, offline posts of all the services are sent.<br/>
The configurations and terminal cache are not updated.</li>
<li class="list1"><span class="highlight">print_offline_posts</span> - Prints all offline posts of the current service on the terminal printer. If
performed from the embedded, offline posts from all services are printed.<br/>
The amount of details that is printed for each post is deterimed by the value
of the <span class="highlight">oebr.posts.print.mode</span> system variable:</li>
<li class="list2"><span class="highlight">HEADER</span> - timestamp, post id, service name, destinatin URI. This is the default.</li>
<li class="list2"><span class="highlight">NAME</span> - same as header, but also a list of names of all variables in the post</li>
<li class="list2"><span class="highlight">VALUE</span> - same as header, with additional list of both variable names and variable values.</li></ul></p>
<p>
The value of the <span class="highlight">oebr.posts.print.mode</span> variable can be set using the terminal varlib
configuration. The <span class="highlight">"VALUE"</span> setting should never be used for the terminals in production
environment!
<ul>
<li class="list1"><span class="highlight">cancel_offline_post</span> - Cancels an offline post. The ID of the post to be cancelled is defined by
the value of the predefined variable <span class="highlight">oebr.post_id</span>
Its value should be properly set prior to calling this function.</li>
<li class="list1"><span class="highlight">clear_http_cache</span> - Deletes cached TML pages of the current service from the terminal cache.<br/>
The function does not affect cached offline transactions or the page from which
it is called.<br/>
If called from the embedded, cached pages for all services are cleared.</li>
<li class="list1"><span class="highlight">connect_to_server</span> - Forces the terminal to connect to Incendo Gateway. The actions that will be performed
depending whether the <span class="highlight">oebr.connect.pool_off</span>, <span class="highlight">oebr.connect.sync_cache</span> and
<span class="highlight">oebr.connect.sync_config</span> variables are set to <span class="highlight">"yes"</span> or <span class="highlight">"no"</span>:</li>
<li class="list2"><span class="highlight">oebr.connect.pool_off</span> set to <span class="highlight">"yes"</span> - submit to the Application Server all offline posts
of the current service</li>
<li class="list2"><span class="highlight">oebr.connect.sync_cache</span> set to <span class="highlight">"yes"</span> - request the updated versions of all
TML resources cached in the terminal memory (TML pages, images, etc.)</li>
<li class="list2"><span class="highlight">oebr.connect.sync_config</span> set to <span class="highlight">"yes"</span> - request the updates of service and terminal
configuration data and variable libraries
</li><li class="list1"><span class="highlight">release_transport</span> - Disconnect from the Gateway if connected. This will close the modem or GPRS connection.</li>
<li class="list1"><span class="highlight">clear_log</span> - Delete all log records for the log specified in the predefined variable <span class="highlight">oebr.log_id</span>
The value of this variable should be properly set prior to performing the function call.</li>
<li class="list1"><span class="highlight">remove_services</span> - Removes the cached resources, configurations and variables data for all services.<br/>
Terminal configuration and variables library are not affected.<br/>
This function call can be performed only from the embedded service.</li>
<li class="list1"><span class="highlight">net_initialisation</span> - Activates the terminal initialisation procedure. All old service data will be deleted,
similarly to <span class="highlight">remove_services</span>.<br/>
This function call can be performed only from the embedded service.</li>
<li class="list1"><span class="highlight">oebr_update</span> - Forces a connection to IngEstate TMS. If there is a new version of Incendo Broswer
available, it is downloaded and installed.<br/>
This function call can be performed only from the embedded service.</li>
<li class="list1"><span class="highlight">touch_calibration</span> - Launches a touch screen calibration utility if the terminal has a touchscreen.<br/>
This function call can be performed only from the embedded service.</li></ul>
</p>
</td></tr> 
</table><h2>Child elements:</h2>
No child elements.
</div></body></html>