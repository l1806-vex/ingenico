<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><title>IncendoOnline: TML Reference: &lt;card&gt; element </title>
<link rel="stylesheet" type="text/css" href="tmlref.css" />
</head><body> 
<div class="logo"><span class="logo_in">in</span><span class="logo_cendo">cendo</span><span class="logo_online" >online</span> : TML Reference</div>
<div class="navigation"><a class="element" href="a.html">&lt;a&gt;</a><br/><a class="element" href="arg.html">&lt;arg&gt;</a><br/><a class="element" href="baddata.html">&lt;baddata&gt;</a><br/><a class="element" href="base.html">&lt;base&gt;</a><br/><a class="element" href="br.html">&lt;br&gt;</a><br/><a class="element" href="call.html">&lt;call&gt;</a><br/><a class="element" href="call_func.html">&lt;call_func&gt;</a><br/><a class="element" href="card.html">&lt;card&gt;</a><br/><a class="element" href="col.html">&lt;col&gt;</a><br/><a class="element" href="colgroup.html">&lt;colgroup&gt;</a><br/><a class="element" href="condition.html">&lt;condition&gt;</a><br/><a class="element" href="dd.html">&lt;dd&gt;</a><br/><a class="element" href="defaults.html">&lt;defaults&gt;</a><br/><a class="element" href="display.html">&lt;display&gt;</a><br/><a class="element" href="div.html">&lt;div&gt;</a><br/><a class="element" href="dl.html">&lt;dl&gt;</a><br/><a class="element" href="dt.html">&lt;dt&gt;</a><br/><a class="element" href="dynamic.html">&lt;dynamic&gt;</a><br/><a class="element" href="econn.html">&lt;econn&gt;</a><br/><a class="element" href="error.html">&lt;error&gt;</a><br/><a class="element" href="form.html">&lt;form&gt;</a><br/><a class="element" href="getvar.html">&lt;getvar&gt;</a><br/><a class="element" href="h1.html">&lt;h1&gt;</a><br/><a class="element" href="h2.html">&lt;h2&gt;</a><br/><a class="element" href="h3.html">&lt;h3&gt;</a><br/><a class="element" href="head.html">&lt;head&gt;</a><br/><a class="element" href="hr.html">&lt;hr&gt;</a><br/><a class="element" href="img.html">&lt;img&gt;</a><br/><a class="element" href="input.html">&lt;input&gt;</a><br/><a class="element" href="interface.html">&lt;interface&gt;</a><br/><a class="element" href="layout.html">&lt;layout&gt;</a><br/><a class="element" href="li.html">&lt;li&gt;</a><br/><a class="element" href="link.html">&lt;link&gt;</a><br/><a class="element" href="log.html">&lt;log&gt;</a><br/><a class="element" href="logdcl.html">&lt;logdcl&gt;</a><br/><a class="element" href="logrec.html">&lt;logrec&gt;</a><br/><a class="element" href="next.html">&lt;next&gt;</a><br/><a class="element" href="ol.html">&lt;ol&gt;</a><br/><a class="element" href="p.html">&lt;p&gt;</a><br/><a class="element" href="param.html">&lt;param&gt;</a><br/><a class="element" href="pinentry.html">&lt;pinentry&gt;</a><br/><a class="element" href="pre.html">&lt;pre&gt;</a><br/><a class="element" href="print.html">&lt;print&gt;</a><br/><a class="element" href="prompt.html">&lt;prompt&gt;</a><br/><a class="element" href="reconciliation.html">&lt;reconciliation&gt;</a><br/><a class="element" href="retval.html">&lt;retval&gt;</a><br/><a class="element" href="screen.html">&lt;screen&gt;</a><br/><a class="element" href="setvar.html">&lt;setvar&gt;</a><br/><a class="element" href="span.html">&lt;span&gt;</a><br/><a class="element" href="strtemplate.html">&lt;strtemplate&gt;</a><br/><a class="element" href="submit.html">&lt;submit&gt;</a><br/><a class="element" href="submit_log.html">&lt;submit_log&gt;</a><br/><a class="element" href="table.html">&lt;table&gt;</a><br/><a class="element" href="tbody.html">&lt;tbody&gt;</a><br/><a class="element" href="td.html">&lt;td&gt;</a><br/><a class="element" href="textarea.html">&lt;textarea&gt;</a><br/><a class="element" href="tfoot.html">&lt;tfoot&gt;</a><br/><a class="element" href="tform.html">&lt;tform&gt;</a><br/><a class="element" href="th.html">&lt;th&gt;</a><br/><a class="element" href="thead.html">&lt;thead&gt;</a><br/><a class="element" href="tml.html">&lt;tml&gt;</a><br/><a class="element" href="tr.html">&lt;tr&gt;</a><br/><a class="element" href="txnconfirm.html">&lt;txnconfirm&gt;</a><br/><a class="element" href="txnnew.html">&lt;txnnew&gt;</a><br/><a class="element" href="txnsubmit.html">&lt;txnsubmit&gt;</a><br/><a class="element" href="ul.html">&lt;ul&gt;</a><br/><a class="element" href="vardcl.html">&lt;vardcl&gt;</a><br/><a class="element" href="variant.html">&lt;variant&gt;</a><br/></div><div class="content">
<h1>&lt;card&gt; element</h1> 
<span class="annotation"><p>
This element allows TML application to interact with the card parsers and control
terminal card readers.</p>
<p><span class="highlight">parser</span> attribute specifies which card parser the terminal should to process the card data.</p>
<p>You define the type of a card operation using the <span class="highlight">parser_params</span> attribute. It instructs
the parser to perform a particular action or sequence of actions with the card.</p>
<p>The results of the card data processing are assigned to various system variables.</p>
<p>The errors should be handled by the <a class="element" href="baddata.html">&lt;baddata&gt;</a> element of the parent <a class="element" href="tform.html">&lt;tform&gt;</a>.</p>
<p>Note that to use the <span class="highlight">mag</span> and <span class="highlight">icc_emv</span> parsers your service should be provisioned
with the correct magcard and iccemv configurations.</p>
<p>See payment application tutorials and BTMLPA application for detailed description
the each parser commands.<br/>
</p>
</span> 
<h2>Parent elements:</h2><a class="element" href="tform.html">tform</a> <br/><h2> Attributes </h2>
<table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>parser</td><td><span class="type">xs:token</span><br/></td><td><p>Required attribute.</p>
<p>This attribute specifies which parser should be used.<br/>
The value should be one of the following:
<ul>
<li class="list1"><span class="highlight">mag</span> - This parser is used to process magnetic stripe cards.<br/>
Note that your service must have a valid magcard configuration assigned to it.</li>
<li class="list1"><span class="highlight">icc_emv</span> - This parser is used to process ICC cards. The communication protocols and
workflow conform to the EMV schema.<br/>
Note that your service must have a valid iccemv configuration assigned to it.</li>
<li class="list1"><span class="highlight">pam</span> - This parser is used to call embedded plug-in applications.</li>
<li class="list1"><span class="highlight">img</span> - This parser is used to interact with the barcode scanner. Note that
this is applicable only to U32 terminals. Telium barcode scanners act as a
keyboard proxy. They can be used to directly input data into an <a class="element" href="input.html">&lt;input&gt;</a> field.</li></ul>
</p>
</td></tr> 
<tr><td>parser_params</td><td><span class="type">xs:token</span><br/></td><td><p>Required attribute.</p>
<p>This attribute specifies the operation that should be performed by the parser.<br/>
Some operations are common for all parser types, while some are parser-specific.<br/>
The value should be one of the following:
<ul>
<li class="list1"><span class="highlight">init</span> - Initialise the parser during first system initialization.<br/>
Used by both <span class="highlight">mag</span> and <span class="highlight">icc_emv</span> parsers.<br/>
Note that this occurs automatically and there is no need for your TML application to
perform this operation manually.</li>
<li class="list1"><span class="highlight">reset</span> - Reset risk management values.<br/>
Used by both <span class="highlight">mag</span> and <span class="highlight">icc_emv</span> parsers.<br/>
Note that this occurs automatically and there is no need for your TML application to
perform this operation manually.</li>
<li class="list1"><span class="highlight">clean</span> - Perform TML variables cleanup.<br/>
Used by both <span class="highlight">mag</span> and <span class="highlight">icc_emv</span> parsers.</li>
<li class="list1"><span class="highlight">risk_mgmt</span> - Perform risk mgmt</li>
<li class="list1"><span class="highlight">read_data</span> - Read data from card</li>
<li class="list1"><span class="highlight">init_app</span> - Perform emv init application</li>
<li class="list1"><span class="highlight">final_select</span> - Select an EMV application from ICC</li>
<li class="list1"><span class="highlight">get_cvm</span> - Perform card holder verification</li>
<li class="list1"><span class="highlight">verify</span> - Perform PIN validation</li>
<li class="list1"><span class="highlight">auth</span> - Generate AC after online authorization.<br/>
<span class="highlight">icc_emv</span> parser only.</li>
<li class="list1"><span class="highlight">wait_remove_card</span> - Display a message while waiting for the customer to remove the card from the reader.<br/>
<span class="highlight">icc_emv</span> parser only.</li>
<li class="list1"><span class="highlight">is_card_inserted</span> - Check if ICC card is in the card reader and is powered on.</li>
<li class="list1"><span class="highlight">cancel</span> - Cancel the current EMV transaction.</li>
<li class="list1"><span class="highlight">get_emv_data</span> - Retrieve EMV data from EMV kernel.</li>
<li class="list1"><span class="highlight">set_emv_data</span> - Set EMV data within EMV kernel</li>
<li class="list1"><span class="highlight">read_aux</span> - Command to read auxilary data</li></ul>
</p>
</td></tr> 
</table><h2>Child elements:</h2>
No child elements.
</div></body></html>