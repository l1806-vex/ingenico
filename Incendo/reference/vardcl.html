<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><title>IncendoOnline: TML Reference: &lt;vardcl&gt; element </title>
<link rel="stylesheet" type="text/css" href="tmlref.css" />
</head><body> 
<div class="logo"><span class="logo_in">in</span><span class="logo_cendo">cendo</span><span class="logo_online" >online</span> : TML Reference</div>
<div class="navigation"><a class="element" href="a.html">&lt;a&gt;</a><br/><a class="element" href="arg.html">&lt;arg&gt;</a><br/><a class="element" href="baddata.html">&lt;baddata&gt;</a><br/><a class="element" href="base.html">&lt;base&gt;</a><br/><a class="element" href="br.html">&lt;br&gt;</a><br/><a class="element" href="call.html">&lt;call&gt;</a><br/><a class="element" href="call_func.html">&lt;call_func&gt;</a><br/><a class="element" href="card.html">&lt;card&gt;</a><br/><a class="element" href="col.html">&lt;col&gt;</a><br/><a class="element" href="colgroup.html">&lt;colgroup&gt;</a><br/><a class="element" href="condition.html">&lt;condition&gt;</a><br/><a class="element" href="dd.html">&lt;dd&gt;</a><br/><a class="element" href="defaults.html">&lt;defaults&gt;</a><br/><a class="element" href="display.html">&lt;display&gt;</a><br/><a class="element" href="div.html">&lt;div&gt;</a><br/><a class="element" href="dl.html">&lt;dl&gt;</a><br/><a class="element" href="dt.html">&lt;dt&gt;</a><br/><a class="element" href="dynamic.html">&lt;dynamic&gt;</a><br/><a class="element" href="econn.html">&lt;econn&gt;</a><br/><a class="element" href="error.html">&lt;error&gt;</a><br/><a class="element" href="form.html">&lt;form&gt;</a><br/><a class="element" href="getvar.html">&lt;getvar&gt;</a><br/><a class="element" href="h1.html">&lt;h1&gt;</a><br/><a class="element" href="h2.html">&lt;h2&gt;</a><br/><a class="element" href="h3.html">&lt;h3&gt;</a><br/><a class="element" href="head.html">&lt;head&gt;</a><br/><a class="element" href="hr.html">&lt;hr&gt;</a><br/><a class="element" href="img.html">&lt;img&gt;</a><br/><a class="element" href="input.html">&lt;input&gt;</a><br/><a class="element" href="interface.html">&lt;interface&gt;</a><br/><a class="element" href="layout.html">&lt;layout&gt;</a><br/><a class="element" href="li.html">&lt;li&gt;</a><br/><a class="element" href="link.html">&lt;link&gt;</a><br/><a class="element" href="log.html">&lt;log&gt;</a><br/><a class="element" href="logdcl.html">&lt;logdcl&gt;</a><br/><a class="element" href="logrec.html">&lt;logrec&gt;</a><br/><a class="element" href="next.html">&lt;next&gt;</a><br/><a class="element" href="ol.html">&lt;ol&gt;</a><br/><a class="element" href="p.html">&lt;p&gt;</a><br/><a class="element" href="param.html">&lt;param&gt;</a><br/><a class="element" href="pinentry.html">&lt;pinentry&gt;</a><br/><a class="element" href="pre.html">&lt;pre&gt;</a><br/><a class="element" href="print.html">&lt;print&gt;</a><br/><a class="element" href="prompt.html">&lt;prompt&gt;</a><br/><a class="element" href="reconciliation.html">&lt;reconciliation&gt;</a><br/><a class="element" href="retval.html">&lt;retval&gt;</a><br/><a class="element" href="screen.html">&lt;screen&gt;</a><br/><a class="element" href="setvar.html">&lt;setvar&gt;</a><br/><a class="element" href="span.html">&lt;span&gt;</a><br/><a class="element" href="strtemplate.html">&lt;strtemplate&gt;</a><br/><a class="element" href="submit.html">&lt;submit&gt;</a><br/><a class="element" href="submit_log.html">&lt;submit_log&gt;</a><br/><a class="element" href="table.html">&lt;table&gt;</a><br/><a class="element" href="tbody.html">&lt;tbody&gt;</a><br/><a class="element" href="td.html">&lt;td&gt;</a><br/><a class="element" href="textarea.html">&lt;textarea&gt;</a><br/><a class="element" href="tfoot.html">&lt;tfoot&gt;</a><br/><a class="element" href="tform.html">&lt;tform&gt;</a><br/><a class="element" href="th.html">&lt;th&gt;</a><br/><a class="element" href="thead.html">&lt;thead&gt;</a><br/><a class="element" href="tml.html">&lt;tml&gt;</a><br/><a class="element" href="tr.html">&lt;tr&gt;</a><br/><a class="element" href="txnconfirm.html">&lt;txnconfirm&gt;</a><br/><a class="element" href="txnnew.html">&lt;txnnew&gt;</a><br/><a class="element" href="txnsubmit.html">&lt;txnsubmit&gt;</a><br/><a class="element" href="ul.html">&lt;ul&gt;</a><br/><a class="element" href="vardcl.html">&lt;vardcl&gt;</a><br/><a class="element" href="variant.html">&lt;variant&gt;</a><br/></div><div class="content">
<h1>&lt;vardcl&gt; element</h1> 
<span class="annotation"><p>
The element is used to declare a TML variable.</p>
<p>When a variable is declared, its parameters and the initial value are written into the terminal
flash memory. So, the variable will stay declared even if the terminal is power-cycled.</p>
<p>The variable properties are set at the declaration time. After that, only the variable value can
be changed.</p>
<p>When a variable is declared by a TML page of your service or by the service varlib, it has a
service scope. This means that it is visible only to your service, and only your service can
access or modify the variable value.</p>
<p>There are also a number of system variables. These variables are pre-defined by the Incendo
Browser or by the terminal variable configuration file (terminal varlib). They are responsible
for terminal settings, system parameters, or terminal behavior.</p>
<p>These system scope variables are visible to all services (i.e. you can not declare a variable in
your service with the same name as the system variable). However, you may be able to read or
write the variable value only if you have appropriate permissisons.</p>
<p>For more information on the use of variables and variable properties see the variables TML
tutorial.<br/>
</p>
</span> 
<h2>Parent elements:</h2><a class="element" href="logdcl.html">logdcl</a> <a class="element" href="tml.html">tml</a> <br/><h2> Attributes </h2>
<table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>name</td><td><span class="type">xs:NMTOKEN</span><br/></td><td><p>Required attribute.</p>
<p>Variable name. The name should be unique (per service), and can not be the same as the
system variables.<br/>
</p>
</td></tr> 
<tr><td>type</td><td><span class="type">xs:token</span><br/></td><td><p>
Defines the variable type. This affects which data can be stored by the variable and
the variable formatter patterns.<br/>
The value should be one of the following:
<ul>
<li class="list1"><span class="highlight">integer</span> - A signed integer. This is used for numeric data, such as payment amounts, indexes
etc. Integer range is from <span class="highlight">-2147483648</span> to <span class="highlight">2147483647</span></li>
<li class="list1"><span class="highlight">string</span> - A string or a semicolon <span class="highlight">;</span> separated string list. Used for messages to be displayed
or printed, user names etc.</li>
<li class="list1"><span class="highlight">date</span> - Date and time information. These variables are used for storing and displaying date
and time information in various formats.</li>
<li class="list1"><span class="highlight">opaque</span> - These variables contain binary data. They are used for images, signature capture,
crypto data, etc.</li></ul></p>
<p>
Default value is <span class="highlight">string</span> .</p>
</td></tr> 
<tr><td>volatile</td><td><span class="type">xs:token</span><br/></td><td><p>
This attribute specifies the memory management mechanism for variable values.<br/>
The value should be one of the following:
<ul>
<li class="list1"><span class="highlight">yes</span> - Volatile variables. These variables have quick read and write access speeds, but they
are not guaranteed to keep their value over terminal reboot or power cycle.</li>
<li class="list1"><span class="highlight">no</span> - Non-volatile variables. These variables have quick read access, but very slow write
access speeds. However, these variabes preserve their values if the terminal is switched
off.</li>
<li class="list1"><span class="highlight">txnvar</span> - Special variables for reliable transactions. Essentially these are volatile variables,
but their values are saved at each step of the reliable transaction.</li></ul></p>
<p>
Default value is <span class="highlight">yes</span> .</p>
</td></tr> 
<tr><td>value</td><td><span class="type">xs:string</span><br/></td><td><p>
Specifies the initial value of the variable. If this attribute is not used, one of the
default values will be assigned, depending on the variable type:
<ul>
<li class="list1"><span class="highlight">string</span> - an empty string</li>
<li class="list1"><span class="highlight">integer</span> - <span class="highlight">0</span></li>
<li class="list1"><span class="highlight">date</span> - <span class="highlight">1970/01/01 00:00:00</span> in the <span class="highlight">YYYY/MM/DD hh:mm:ss</span> format</li>
<li class="list1"><span class="highlight">opaque</span> - empty
</li></ul>
</p>
</td></tr> 
<tr><td>format</td><td><span class="type">Formatter</span><br/></td><td><p>
Specifies the default formatter that will be used for the variable. This can be overwritten by the
<a class="element" href="getvar.html">&lt;getvar&gt;</a> or <a class="element" href="setvar.html">&lt;setvar&gt;</a> elements.</p>
<p>Note that <span class="highlight">format</span> affects how the variable value is displayed or printed, but does not
affect the interanl variabel value.</p>
<p>If this attribute is not used, the variable will have a default formatter depending on the
variable type:
<ul>
<li class="list1"><span class="highlight">string</span> - <span class="highlight">"c*"</span> - all characters as is</li>
<li class="list1"><span class="highlight">integer</span> - <span class="highlight">"-0*"</span> - a positive or a negative integer</li>
<li class="list1"><span class="highlight">date</span> - <span class="highlight">"YYYY/MM/DD"</span> - year/month/day i.e. 2010/09/24</li>
<li class="list1"><span class="highlight">opaque</span> - <span class="highlight">"base64"</span> - a base 64 encoded string</li></ul></p>
<p>
The TML can contain directive to pretty print the variable value.<br/>
This can be specified using additional formatter attribute. This
applies for all variable types except opaque. So, there are three
formatters - number, string and date.</p>
<p>The special symbols defined for each formatter can be escaped with
the \, i.e. the \ denies the special meaning of the one following
symbol, f.e. the \ itself.</p>
<p>Number formatter can contain any characters. All symbols except
explicitly specified below are printed <span class="highlight">"as is"</span>. The following special
symbols are available:</p>
<p><span class="highlight">^</span> at the beginning of the formatter. The positions in the fixed
part of the string will be occupied from right to left. On the
position other that first it is considered as normal printable
symbol
<span class="highlight">0</span> specifies fixed amount of decimals. If this position is empty in
the real number, the zero is printed instead
<span class="highlight">*</span> means any number of decimals. This symbol can be present only
once in the formatter and it can only be present after the fixed
positions. The term <span class="highlight">"after"</span> takes into account the printing
direction above.</p>
<p>String formatter is a more complex formatter. It can contain any
characters. All symbols except explicitly specified below are printed
<span class="highlight">"as is"</span>. The following special symbols are available:</p>
<p><span class="highlight">c</span> or <span class="highlight">n</span> means normal symbol or number at this position
<span class="highlight">c#</span> or <span class="highlight">n#</span> means hidden symbol or decimal, i.e. <span class="highlight">*</span> at this position
<span class="highlight">*</span> or number can follow above specifiers, indicating the required
amount of such symbols in the string (<span class="highlight">*</span> means unlimited and
similar to number formatter can not be specified more than once)</p>
<p>Date formatter can contain any characters. All symbols except
explicitly specified below are printed <span class="highlight">"as is"</span>. The following special
symbols are available:</p>
<p><span class="highlight">YYYY</span> or <span class="highlight">yyyy</span> - year in full form, 4 digits wide
<span class="highlight">YY</span> or <span class="highlight">yy</span> - year in short form, 2 digits wide
<span class="highlight">MM</span> - month
<span class="highlight">DD</span> or <span class="highlight">dd</span> - day
<span class="highlight">HH</span> or <span class="highlight">hh</span> - hour
<span class="highlight">mm</span> - minute
<span class="highlight">SS</span> or <span class="highlight">ss</span> - seconds
<span class="highlight">am/pm</span> or <span class="highlight">AM/PM</span> - 12-hour clock
<span class="highlight">"am/pm"</span> turns into <span class="highlight">"am"</span> or <span class="highlight">"pm"</span>, <span class="highlight">"AM/PM"</span> turns into <span class="highlight">"AM"</span> or <span class="highlight">"PM"</span>
Each specifier can present only once.</p>
<p>Date formatter escaped symbols:
<span class="highlight">"Y"</span>, <span class="highlight">"y"</span>, <span class="highlight">"M"</span>, <span class="highlight">"m"</span>, <span class="highlight">"D"</span>, <span class="highlight">"d"</span>, <span class="highlight">"H"</span>, <span class="highlight">"h"</span>, <span class="highlight">"S"</span>, <span class="highlight">"s"</span>.<br/>
</p>
</td></tr> 
<tr><td>perms</td><td><span class="type">Permissions</span><br/></td><td><p>
Variable access permissions. Together with the variable scope, they determine whether your
service can read and/or modify the variable value.</p>
<p>The variables declared by your service TMl pages will be in the service scope.</p>
<p>Default value gives full read and write access for the variable to your service. Since
the service that declared the variable is the only one that has visibility of the variable
and can access it, normally there is no need to modify this attribute.</p>
<p>Variable access permissions that are set by using a 5-character string.</p>
<p>The rights are the following:
<ol>
<li class="num_list1">read in the scope the variable belongs to</li>
<li class="num_list1">write in the scope the variable belongs to</li>
<li class="num_list1">instanciate the variable in scopes below. Only relevant for system-scope variables.</li>
<li class="num_list1">read in scopes below. Only relevant for system-scope variables.</li>
<li class="num_list1">write in scopes below. Only relevant for system-scope variables.<br/>
The pattern is the following - <span class="highlight">"rwxrw"</span>.</li></ol></p>
<p>
Any symbol except the <span class="highlight">-</span> declares that the bit is set</p>
<p>The default is <span class="highlight">"rw-rw"</span> - all operations allowed</p>
<p>Default value is <span class="highlight">rw-rw</span> .</p>
</td></tr> 
</table><h2>Child elements:</h2>
No child elements.
</div></body></html>